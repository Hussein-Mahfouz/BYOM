library(osmdata)
?getbb
library(osmdata)
library(tidyverse)
# get bounding box of Cairo
bb = getbb("South Sinai, Egypt")
# get bounding box of Cairo
bb = getbb("South Sinai, Egypt")
# opq used to build an overpass query
query <- opq(bbox = bb) %>%
add_osm_feature(key = 'highway')
# save and plot
highways_cairo <- osmdata_sp(query)
sp::plot(highways_cairo$osm_lines)
# get bounding box of Cairo
bb = getbb("Mount Sinai")
# opq used to build an overpass query
query <- opq(bbox = bb) %>%
add_osm_feature(key = 'ele')
# save and plot
highways_cairo <- osmdata_sp(query)
sp::plot(highways_cairo$osm_lines)
cd
sinai <- raster("strm_43_07/strm/43/07.tif")
library(raster)
sinai <- raster("strm_43_07/strm/43/07.tif")
sinai <- raster("strm_43_07/strm/43_07.tif")
sinai <- raster("strm_43_07/strm_43_07.tif")
sinai <- raster("srtm_43_07.tif")
sinai
View(sinai)
plot(sinai)
# crop to the desired area
e <- as(extent(33.5, 34.5, 28, 29), 'SpatialPolygons')
crs(e) <- "+proj=longlat +datum=WGS84 +no_defs"
south_sinai <- crop(sinai, e)
plot(south_sinai)
# crop to the desired area
e <- as(extent(33.5, 34.5, 27.7, 29), 'SpatialPolygons')
crs(e) <- "+proj=longlat +datum=WGS84 +no_defs"
south_sinai <- crop(sinai, e)
plot(south_sinai)
south_sinai
library(rayshader)
#convert it to a matrix using rayshader
elmat = raster_to_matrix(south_sinai)
View(elmat)
#Use one of rayshader's built-in textures:
elmat %>%
sphere_shade(texture = "desert") %>%
plot_map()
#Use one of rayshader's built-in textures:
elmat %>%
sphere_shade(texture = "desert") %>%
add_water(detect_water(elmat), color = "desert") %>%
plot_map()
#Use one of rayshader's built-in textures:
elmat %>%
sphere_shade(texture = "desert") %>%
add_water(detect_water(elmat), color = "desert") %>%
plot_3d(elmat, zscale = 10, fov = 0, theta = 135, zoom = 0.75, phi = 45, windowsize = c(1000, 800))
# crop to the desired area
e <- as(extent(33.9, 34.1, 28.45, 28.65), 'SpatialPolygons')
crs(e) <- "+proj=longlat +datum=WGS84 +no_defs"
south_sinai <- crop(sinai, e)
plot(south_sinai)
#convert it to a matrix using rayshader
elmat = raster_to_matrix(south_sinai)
#Use one of rayshader's built-in textures:
elmat %>%
sphere_shade(texture = "desert") %>%
add_water(detect_water(elmat), color = "desert") %>%
plot_3d(elmat, zscale = 10, fov = 0, theta = 135, zoom = 0.75, phi = 45, windowsize = c(1000, 800))
#Use one of rayshader's built-in textures:
elmat %>%
sphere_shade(texture = "desert") %>%
add_water(detect_water(elmat), color = "desert") %>%
plot_3d(elmat, zscale = 10, fov = 0, theta = 135, zoom = 0.75, phi = 45, windowsize = c(1000, 800))
#Use one of rayshader's built-in textures:
elmat %>%
sphere_shade(texture = "desert") %>%
add_water(detect_water(elmat), color = "desert") %>%
plot_3d(elmat, zscale = 10, fov = 0, theta = 135, zoom = 0.75, phi = 45, windowsize = c(1000, 800),
baseshape = "circle")
#Use one of rayshader's built-in textures:
elmat %>%
sphere_shade(texture = "desert") %>%
add_water(detect_water(elmat), color = "desert") %>%
plot_3d(elmat, zscale = 10, fov = 0, theta = 135, zoom = 0.75, phi = 45, windowsize = c(1000, 800),
baseshape = "circle")
#Use one of rayshader's built-in textures:
elmat %>%
sphere_shade(texture = "desert") %>%
add_water(detect_water(elmat), color = "desert") %>%
plot_3d(elmat, zscale = 10, fov = 0, theta = 135, zoom = 0.75, phi = 45, windowsize = c(1000, 800),
baseshape = "hex")
#Use one of rayshader's built-in textures:
elmat %>%
sphere_shade(texture = "desert") %>%
add_water(detect_water(elmat), color = "desert") %>%
plot_3d(elmat, zscale = 10, fov = 0, theta = 135, zoom = 0.75, phi = 45, windowsize = c(1000, 800),
baseshape = "hex")
render_snapshot()
#Use one of rayshader's built-in textures:
elmat %>%
sphere_shade(texture = "desert") %>%
add_water(detect_water(elmat), color = "desert") %>%
plot_3d(elmat, zscale = 10, fov = 0, theta = 135, zoom = 0.75, phi = 45, windowsize = c(1000, 800),
baseshape = "hex")
render_snapshot(hi)
#Use one of rayshader's built-in textures:
x <- elmat %>%
sphere_shade(texture = "desert") %>%
add_water(detect_water(elmat), color = "desert") %>%
plot_3d(elmat, zscale = 10, fov = 0, theta = 135, zoom = 0.75, phi = 45, windowsize = c(1000, 800),
baseshape = "hex")
render_snapshot(x, hi)
render_snapshot(x, 'hi')
#Use one of rayshader's built-in textures:
elmat %>%
sphere_shade(texture = "desert") %>%
add_water(detect_water(elmat), color = "desert") %>%
plot_3d(elmat, zscale = 10, fov = 0, theta = 135, zoom = 0.75, phi = 45, windowsize = c(1000, 800),
baseshape = "hex")
render_snapshot(hello)
#Use one of rayshader's built-in textures:
elmat %>%
sphere_shade(texture = "desert") %>%
add_water(detect_water(elmat), color = "desert") %>%
plot_3d(elmat, zscale = 10, fov = 0, theta = 135, zoom = 0.75, phi = 45, windowsize = c(1000, 800),
baseshape = "hex")
render_snapshot(hello.png)
#Use one of rayshader's built-in textures:
elmat %>%
sphere_shade(texture = "desert") %>%
add_water(detect_water(elmat), color = "desert") %>%
plot_3d(elmat, zscale = 10, fov = 0, theta = 135, zoom = 0.75, phi = 45, windowsize = c(1000, 800),
baseshape = "hex")
render_snapshot(title_text = "Mount Sinai")
#Use one of rayshader's built-in textures:
elmat %>%
sphere_shade(texture = "desert") %>%
add_water(detect_water(elmat), color = "desert") %>%
plot_3d(elmat, zscale = 10, fov = 0, theta = 135, zoom = 0.75, phi = 45, windowsize = c(1000, 800),
baseshape = "hex")
render_snapshot(title_text = "Mount Sinai")
#Use one of rayshader's built-in textures:
x <- elmat %>%
sphere_shade(texture = "desert") %>%
add_water(detect_water(elmat), color = "desert") %>%
plot_3d(elmat, zscale = 10, fov = 0, theta = 135, zoom = 0.75, phi = 45, windowsize = c(1000, 800),
baseshape = "hex")
render_snapshot(x)
#Use one of rayshader's built-in textures:
x <- elmat %>%
sphere_shade(texture = "desert") %>%
add_water(detect_water(elmat), color = "desert") %>%
plot_3d(elmat, zscale = 10, fov = 0, theta = 135, zoom = 0.75, phi = 45, windowsize = c(1000, 800),
baseshape = "hex")
render_snapshot(file = hi.png)
#Use one of rayshader's built-in textures:
x <- elmat %>%
sphere_shade(texture = "desert") %>%
add_water(detect_water(elmat), color = "desert") %>%
plot_3d(elmat, zscale = 10, fov = 0, theta = 135, zoom = 0.75, phi = 45, windowsize = c(1000, 800),
baseshape = "hex")
render_snapshot(file = x.png)
#Use one of rayshader's built-in textures:
x <- elmat %>%
sphere_shade(texture = "desert") %>%
add_water(detect_water(elmat), color = "desert") %>%
plot_3d(elmat, zscale = 10, fov = 0, theta = 135, zoom = 0.75, phi = 45, windowsize = c(1000, 800),
baseshape = "hex")
render_snapshot(file = x)
# temp file to save output
filename_map = tempfile()
#Use one of rayshader's built-in textures:
elmat %>%
sphere_shade(texture = "desert") %>%
add_water(detect_water(elmat), color = "desert") %>%
plot_3d(elmat, zscale = 10, fov = 0, theta = 135, zoom = 0.75, phi = 45, windowsize = c(1000, 800),
baseshape = "hex")
render_snapshot(filename_map)
save_3dprint(filename_map)
filename_map
#Use one of rayshader's built-in textures:
elmat %>%
sphere_shade(texture = "desert") %>%
add_water(detect_water(elmat), color = "desert") %>%
plot_3d(elmat, zscale = 10, fov = 0, theta = 135, zoom = 0.75, phi = 45, windowsize = c(1000, 800),
baseshape = "hex")
Sys.sleep(0.2)
render_snapshot()
